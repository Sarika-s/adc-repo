<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:munit="http://www.mulesoft.org/schema/mule/munit" xmlns:munit-tools="http://www.mulesoft.org/schema/mule/munit-tools" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/munit http://www.mulesoft.org/schema/mule/munit/current/mule-munit.xsd
http://www.mulesoft.org/schema/mule/munit-tools  http://www.mulesoft.org/schema/mule/munit-tools/current/mule-munit-tools.xsd">

<munit:config name="contacts-mule-api-test-suite.xml"/>

<munit:test name="contacts-mule-api-test-suite-get:\contacts:contacts-mule-api-configTest" description="Verifying functionality of [contacts-mule-api-test-suite-get:\contacts:contacts-mule-api-configTest]" doc:id="4a2a66bf-b539-4e23-a6b5-ae698687ba58">
  <!--<munit:behavior > <munit-tools:mock-when doc:name="/Mock when/" doc:id="/61d397b9-676e-4937-83fa-529a366384f3" /> </munit:behavior>-->
  <munit:execution>
    <munit:set-event doc:id="4a2a66bf-b539-4e23-a6b5-ae698688ba58" doc:name="Set Event"/>
    <flow-ref doc:name="Flow-ref to get:\contacts:contacts-mule-api-config" name="get:\contacts:contacts-mule-api-config" doc:id="4a2a66bf-b539-4e23-a6b5-ae698689ba58"/>
  </munit:execution>
  <munit:validation>
    <munit-tools:assert-that expression="#[output text/plain ---(write(payload, 'application/json') as String) replace /([\n\s])/ with '']" is="#[MunitTools::equalTo(MunitTools::getResourceAsString('scaffolder/response/get_200_contacts_application_json.txt') replace /([\n\s])/ with '')]" message="The response payload is correct!" doc:name="Assert That - Payload is Expected"/>
  </munit:validation>
</munit:test>
<munit:test name="contacts-mule-api-test-suite-post:\contacts:contacts-mule-api-configTest" description="Verifying functionality of [contacts-mule-api-test-suite-post:\contacts:contacts-mule-api-configTest]" doc:id="4a2a66bf-b539-4e23-a6b5-ae698690ba58">
  <!--<munit:behavior > <munit-tools:mock-when doc:name="/Mock when/" doc:id="/61d397b9-676e-4937-83fa-529a366384f3" /> </munit:behavior>-->
  <munit:execution>
    <munit:set-event doc:id="4a2a66bf-b539-4e23-a6b5-ae698691ba58" doc:name="Set Event">
      <munit:payload value="#[MunitTools::getResourceAsString('scaffolder/request/post_contacts_application_json.txt')]"/>
    </munit:set-event>
    <flow-ref doc:name="Flow-ref to post:\contacts:contacts-mule-api-config" name="post:\contacts:contacts-mule-api-config" doc:id="4a2a66bf-b539-4e23-a6b5-ae698692ba58"/>
  </munit:execution>
  <munit:validation>
    <munit-tools:assert-that expression="#[output text/plain ---(write(payload, 'application/json') as String) replace /([\n\s])/ with '']" is="#[MunitTools::equalTo(MunitTools::getResourceAsString('scaffolder/response/post_201_contacts_application_json.txt') replace /([\n\s])/ with '')]" message="The response payload is correct!" doc:name="Assert That - Payload is Expected"/>
  </munit:validation>
</munit:test>
<munit:test name="contacts-mule-api-test-suite-get:\contacts\ping:contacts-mule-api-configTest" description="Verifying functionality of [contacts-mule-api-test-suite-get:\contacts\ping:contacts-mule-api-configTest]" doc:id="4a2a66bf-b539-4e23-a6b5-ae698693ba58">
  <!--<munit:behavior > <munit-tools:mock-when doc:name="/Mock when/" doc:id="/61d397b9-676e-4937-83fa-529a366384f3" /> </munit:behavior>-->
  <munit:execution>
    <munit:set-event doc:id="4a2a66bf-b539-4e23-a6b5-ae698694ba58" doc:name="Set Event"/>
    <flow-ref doc:name="Flow-ref to get:\contacts\ping:contacts-mule-api-config" name="get:\contacts\ping:contacts-mule-api-config" doc:id="4a2a66bf-b539-4e23-a6b5-ae698695ba58"/>
  </munit:execution>
  <munit:validation>
    <munit-tools:assert-that expression="#[output text/plain ---(write(payload, 'application/json') as String) replace /([\n\s])/ with '']" is="#[MunitTools::equalTo(MunitTools::getResourceAsString('scaffolder/response/get_200_contacts_ping_application_json.txt') replace /([\n\s])/ with '')]" message="The response payload is correct!" doc:name="Assert That - Payload is Expected"/>
  </munit:validation>
</munit:test>
<munit:test name="contacts-mule-api-test-suite-get:\contacts\(ID):contacts-mule-api-configTest" description="Verifying functionality of [contacts-mule-api-test-suite-get:\contacts\(ID):contacts-mule-api-configTest]" doc:id="4a2a66bf-b539-4e23-a6b5-ae698696ba58">
  <!--<munit:behavior > <munit-tools:mock-when doc:name="/Mock when/" doc:id="/61d397b9-676e-4937-83fa-529a366384f3" /> </munit:behavior>-->
  <munit:behavior >
<munit-tools:mock-when doc:name="Mock when" doc:id="1d1c721f-35d9-472c-8cd0-e3ea46f1e93a" processor="salesforce:query-single">
	<munit-tools:with-attributes >
		<munit-tools:with-attribute attributeName="doc:name" whereValue="GetContactById" />
	</munit-tools:with-attributes>
	<munit-tools:then-return >
		<munit-tools:payload value="#[MunitTools::getResourceAsString('scaffolder/response/get_200_contacts_{ID}_application_json.txt') replace /([\n\s])/ with '']" mediaType="application/json"/>
	</munit-tools:then-return>
</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution>
    <munit:set-event doc:id="4a2a66bf-b539-4e23-a6b5-ae698697ba58" doc:name="Set Event">
      <munit:attributes value="#[{ uriParams: {'ID': '0017F00000UMGyuQAH'}}]"/>
    </munit:set-event>
    <flow-ref doc:name="Flow-ref to get:\contacts\(ID):contacts-mule-api-config" name="get:\contacts\(ID):contacts-mule-api-config" doc:id="4a2a66bf-b539-4e23-a6b5-ae698698ba58"/>
  </munit:execution>
  <munit:validation>
    <munit-tools:assert-that expression="#[output text/plain ---(write(payload, 'application/json') as String) replace /([\n\s])/ with '']" is="#[MunitTools::equalTo(MunitTools::getResourceAsString('scaffolder/response/get_200_contacts_{ID}_application_json.txt') replace /([\n\s])/ with '')]" message="The response payload is correct!" doc:name="Assert That - Payload is Expected"/>
  </munit:validation>
</munit:test>
<munit:test name="contacts-mule-api-test-suite-put:\contacts\(ID):contacts-mule-api-configTest" description="Verifying functionality of [contacts-mule-api-test-suite-put:\contacts\(ID):contacts-mule-api-configTest]" doc:id="4a2a66bf-b539-4e23-a6b5-ae698699ba58">
  <!--<munit:behavior > <munit-tools:mock-when doc:name="/Mock when/" doc:id="/61d397b9-676e-4937-83fa-529a366384f3" /> </munit:behavior>-->
  <munit:execution>
    <munit:set-event doc:id="4a2a66bf-b539-4e23-a6b5-ae698700ba58" doc:name="Set Event">
      <munit:payload value="#[MunitTools::getResourceAsString('scaffolder/request/put_contacts_{ID}_application_json.txt')]"/>
      <munit:attributes value="#[{ uriParams: {'ID': '11298037'}}]"/>
    </munit:set-event>
    <flow-ref doc:name="Flow-ref to put:\contacts\(ID):contacts-mule-api-config" name="put:\contacts\(ID):contacts-mule-api-config" doc:id="4a2a66bf-b539-4e23-a6b5-ae698701ba58"/>
  </munit:execution>
  <munit:validation>
    <munit-tools:assert-that expression="#[output text/plain ---(write(payload, 'application/json') as String) replace /([\n\s])/ with '']" is="#[MunitTools::equalTo(MunitTools::getResourceAsString('scaffolder/response/put_200_contacts_{ID}_application_json.txt') replace /([\n\s])/ with '')]" message="The response payload is correct!" doc:name="Assert That - Payload is Expected"/>
  </munit:validation>
</munit:test>
<munit:test name="contacts-mule-api-test-suite-delete:\contacts\(ID):contacts-mule-api-configTest" description="Verifying functionality of [contacts-mule-api-test-suite-delete:\contacts\(ID):contacts-mule-api-configTest]" doc:id="4a2a66bf-b539-4e23-a6b5-ae698702ba58">
  <!--<munit:behavior > <munit-tools:mock-when doc:name="/Mock when/" doc:id="/61d397b9-676e-4937-83fa-529a366384f3" /> </munit:behavior>-->
  <munit:execution>
    <munit:set-event doc:id="4a2a66bf-b539-4e23-a6b5-ae698703ba58" doc:name="Set Event">
      <munit:attributes value="#[{ uriParams: {'ID': '11298037'}}]"/>
    </munit:set-event>
    <flow-ref doc:name="Flow-ref to delete:\contacts\(ID):contacts-mule-api-config" name="delete:\contacts\(ID):contacts-mule-api-config" doc:id="4a2a66bf-b539-4e23-a6b5-ae698704ba58"/>
  </munit:execution>
  <munit:validation>
    <munit-tools:assert-that expression="#[output text/plain ---(write(payload, 'application/json') as String) replace /([\n\s])/ with '']" is="#[MunitTools::equalTo(MunitTools::getResourceAsString('scaffolder/response/delete_200_contacts_{ID}_application_json.txt') replace /([\n\s])/ with '')]" message="The response payload is correct!" doc:name="Assert That - Payload is Expected"/>
  </munit:validation>
</munit:test>
</mule>